<h1>Cart</h1>
<a href="/">Home</a>
<hr />

<% if (cart.items.length === 0) { %>
  <p>Your cart is empty.</p>
<% } %>

<% let total = 0; %>

<% cart.items.forEach(item => { %>
  <% total += item.price * item.qty; %>

  <div style="border:1px solid #ccc; padding:10px; margin:10px;">
    <p><strong><%= item.name %></strong></p>
    <p>BHD <%= item.price %></p>

    <div style="display:flex; gap:10px; align-items:center;">
      <form action="/cart/update" method="POST">
        <input type="hidden" name="productId" value="<%= item.productId %>">
        <input type="hidden" name="action" value="dec">
        <button type="submit">-</button>
      </form>

      <span>Qty: <%= item.qty %></span>

      <form action="/cart/update" method="POST">
        <input type="hidden" name="productId" value="<%= item.productId %>">
        <input type="hidden" name="action" value="inc">
        <button type="submit">+</button>
      </form>
    </div>
  </div>
<% }) %>

<hr />
<h3>Total: BHD <%= total.toFixed(2) %></h3>

<a href="/products">Continue Shopping</a>
